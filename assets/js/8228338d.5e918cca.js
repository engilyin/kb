"use strict";(self.webpackChunkalex_ilin_kb=self.webpackChunkalex_ilin_kb||[]).push([[1237],{2221:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Tools/git","title":"Git sheat sheet","description":"To unstage file","source":"@site/docs/Tools/git.md","sourceDirName":"Tools","slug":"/Tools/git","permalink":"/kb/Tools/git","draft":false,"unlisted":false,"editUrl":"https://github.com/engilyin/kb/docs/Tools/git.md","tags":[],"version":"current","lastUpdatedAt":1727544268000,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Docker commands and useful stuff","permalink":"/kb/Tools/docker"},"next":{"title":"GoDaddy","permalink":"/kb/Tools/godaddy"}}');var l=s(4848),i=s(8453);const t={},a="Git sheat sheet",o={},c=[{value:"To unstage file",id:"to-unstage-file",level:2},{value:"Aliases",id:"aliases",level:2},{value:"Delete branch",id:"delete-branch",level:2},{value:"Windows ssh login",id:"windows-ssh-login",level:2},{value:"Set git username localy",id:"set-git-username-localy",level:2},{value:"Stash",id:"stash",level:2},{value:"Clean up repo",id:"clean-up-repo",level:2},{value:"Merging",id:"merging",level:2},{value:"Troublishooting",id:"troublishooting",level:2},{value:"SSL issues",id:"ssl-issues",level:3},{value:"Mac <code>zsh</code> issues",id:"mac-zsh-issues",level:3},{value:"Extract out some submodule as a separate repo",id:"extract-out-some-submodule-as-a-separate-repo",level:3},{value:"Merge repos",id:"merge-repos",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"git-sheat-sheet",children:"Git sheat sheet"})}),"\n",(0,l.jsx)(n.h2,{id:"to-unstage-file",children:"To unstage file"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git reset package-lock.json\r\ngit restore --staged package-lock.json\n"})}),"\n",(0,l.jsx)(n.h2,{id:"aliases",children:"Aliases"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git config --global alias.st state\n"})}),"\n",(0,l.jsx)(n.h2,{id:"delete-branch",children:"Delete branch"}),"\n",(0,l.jsx)(n.p,{children:"Locally:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"#You can delete a merged local branch with:\r\n\r\ngit branch -d branchname\r\n\r\n#If it's not merged, use:\r\n\r\ngit branch -D branchname\n"})}),"\n",(0,l.jsx)(n.p,{children:"Remotelly:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"git push --delete origin branchname\n"})}),"\n",(0,l.jsx)(n.p,{children:"Clean up unused remote branches:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"git remote prune origin\n"})}),"\n",(0,l.jsx)(n.p,{children:"Optimize local repo:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"git gc\n"})}),"\n",(0,l.jsx)(n.p,{children:"Delete unused feature/ branches"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"git branch | grep feature/ | awk '{print $1}' | xargs git branch -d\n"})}),"\n",(0,l.jsx)(n.h2,{id:"windows-ssh-login",children:"Windows ssh login"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"eval `ssh-agent -s`\r\nssh-add -t1240m ~/.ssh/my_rsa\n"})}),"\n",(0,l.jsx)(n.h2,{id:"set-git-username-localy",children:"Set git username localy"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:'git config user.name "My Name"\r\ngit config user.email "my@email.com"\n'})}),"\n",(0,l.jsx)(n.h2,{id:"stash",children:"Stash"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git stash\r\ngit list\r\ngit stash pop 0\n"})}),"\n",(0,l.jsx)(n.h2,{id:"clean-up-repo",children:"Clean up repo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git clean -fdx\n"})}),"\n",(0,l.jsx)(n.h2,{id:"merging",children:"Merging"}),"\n",(0,l.jsx)(n.p,{children:"$ git merge develop_forward -Xrename-threshold=25 -Xignore-space-change"}),"\n",(0,l.jsx)(n.h2,{id:"troublishooting",children:"Troublishooting"}),"\n",(0,l.jsx)(n.h3,{id:"ssl-issues",children:"SSL issues"}),"\n",(0,l.jsx)(n.p,{children:"If you have some problems with ssl like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"fatal: unable to access 'https://git.company.com/User_Name/spring-boot-realworld-example-app.git/': SSL certificate problem: unable to get local issuer certificate\n"})}),"\n",(0,l.jsx)(n.p,{children:"you cantry to turn off the validation for a while"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git config http.sslVerify false\n"})}),"\n",(0,l.jsxs)(n.h3,{id:"mac-zsh-issues",children:["Mac ",(0,l.jsx)(n.code,{children:"zsh"})," issues"]}),"\n",(0,l.jsxs)(n.p,{children:["If you see your ",(0,l.jsx)(n.code,{children:"git branche"})," in the ",(0,l.jsx)(n.code,{children:"vi"})," you may stop doing that by:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git config --global pager.branch false\n"})}),"\n",(0,l.jsx)(n.h3,{id:"extract-out-some-submodule-as-a-separate-repo",children:"Extract out some submodule as a separate repo"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-shell",children:"git clone https://my-full-repo\r\n\r\ngit remote get-url origin\r\ngit remote rm origin\r\ngit remote get-url origin\r\n\r\n\r\ngit filter-branch --subdirectory-filter <submodulepath> -- --all\r\n\r\n# Do some changes to make it build and have a final shape of the separate project\r\n\r\n# Create new repo on remote like https://github.com/me/my-new-repo.git\r\n\r\ngit remote add origin https://github.com/me/my-new-repo.git\r\ngit remote get-url origin\r\n\r\n\r\n# BE EXTEMALLY CAREFULL WITH THIS COMMAND:\r\n\r\ngit push --mirror origin\r\n\n"})}),"\n",(0,l.jsx)(n.h2,{id:"merge-repos",children:"Merge repos"}),"\n",(0,l.jsxs)(n.p,{children:["You can use ",(0,l.jsx)(n.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:s(4264).A+"",children:"script"})," to merge multiple repos into single one."]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},4264:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/files/merge-repos-3192d3349309ed31aee52d39f47c4386.sh"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var r=s(6540);const l={},i=r.createContext(l);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);