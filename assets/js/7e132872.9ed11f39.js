"use strict";(self.webpackChunkalex_ilin_kb=self.webpackChunkalex_ilin_kb||[]).push([[894],{9329:(e,i,l)=>{l.r(i),l.d(i,{assets:()=>h,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"Job/TechInterview/Java/related/unix","title":"unix","description":"UNIX","source":"@site/docs/Job/TechInterview/Java/related/unix.md","sourceDirName":"Job/TechInterview/Java/related","slug":"/Job/TechInterview/Java/related/unix","permalink":"/kb/Job/TechInterview/Java/related/unix","draft":false,"unlisted":false,"editUrl":"https://github.com/engilyin/kb/docs/Job/TechInterview/Java/related/unix.md","tags":[],"version":"current","lastUpdatedAt":1727972934000,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"sql","permalink":"/kb/Job/TechInterview/Java/related/sql"},"next":{"title":"web","permalink":"/kb/Job/TechInterview/Java/related/web"}}');var s=l(4848),r=l(8453);const d={},c=void 0,h={},o=[{value:"UNIX",id:"unix",level:2},{value:"Resources",id:"resources",level:3},{value:"Table of Contents",id:"table-of-contents",level:3},{value:"Find",id:"find",level:3},{value:"Search",id:"search",level:3},{value:"Processes",id:"processes",level:3},{value:"File permissions",id:"file-permissions",level:3},{value:"List files",id:"list-files",level:3},{value:"Symlinks",id:"symlinks",level:3},{value:"Checking logs",id:"checking-logs",level:3},{value:"Text manipulation",id:"text-manipulation",level:3},{value:"Sed",id:"sed",level:3},{value:"Networking",id:"networking",level:3},{value:"Space",id:"space",level:3},{value:"Miscellaneous",id:"miscellaneous",level:3}];function t(e){const i={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h2,{id:"unix",children:"UNIX"}),"\n",(0,s.jsx)(i.h3,{id:"resources",children:"Resources"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://github.com/jlevy/the-art-of-command-line#processing-files-and-data",children:"Art of Command Line"})}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#resources",children:"Resources"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#find",children:"Find"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#search",children:"Search"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#processes",children:"Processes"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#file-permissions",children:"File permissions"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#list-files",children:"List files"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#symlinks",children:"Symlinks"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#checking-logs",children:"Checking logs"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#text-manipulation",children:"Text manipulation"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#sed",children:"Sed"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#networking",children:"Networking"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#space",children:"Space"})}),"\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"#miscellaneous",children:"Miscellaneous"})}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"find",children:"Find"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"find dir -type f"})," Find all files in the directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"find dir -type d"})," File all directories within this directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"find dir -name \u201ca*.mp3\u201d -print0"})," Find all files/directory with name like a***.mp3"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"find dir -type f -name \u201ca*.txt\u201d"})," Find all files (recursively) with name like a***.txt"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'find dir -type f -print0 | xargs -0 grep -l "word"'})," List file names with matching word"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"find dir -type f -print0 | xargs -0 mv -t"})," Move all files from dir tree into single directory"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"search",children:"Search"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep \u201cword\u201d file"})," All matching lines in the file"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -i \u201cword\u201d file"})," All matching lines - Ignore case"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -r \u201cword\u201d dir"})," All matching lines in (recursively) all files or directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -c \u201cword\u201d file"})," Count of matching lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep \u201cword\u201d file | wc -l"})," Count of matching lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -v \u201cword\u201d file | wc -l"})," Count of non-matching lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -o -w \u201cword\u201d file | wc -w"})," Word count"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"grep -l -r \u201cword\u201d dir"})," List file names with matching word"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'find dir -type f -print0 | xargs -0 grep -l "word"'})," List file names with matching word"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"processes",children:"Processes"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"nohup program.sh > mylog.txt 2>&1 &"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"&"})," starts process as child process in the background"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"nohup"})," Ctrl-C or terminating session sends kill signal to all child processes, ",(0,s.jsx)(i.code,{children:"nohup"})," catches and ignores it"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:">"})," redirect output (from left/source to right/target)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"2"})," error stream"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"1"})," output stream"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"2>&1"})," append all errors to output"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"top"})," Check CPU and memory consumption"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"kill -9 processId"})," kill the process with that pid"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"kill -3 processId"})," for a JVM process, will write thread dump to output stream"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ps -ef | grep word"})," find process with matching word"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"echo $?"})," print output of last process"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"file-permissions",children:"File permissions"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod file"})," Change"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod +x file"})," Add execute permission"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod +w file"})," Add write permission"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod +r file"})," Add read permission"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod 755 file"})," Change permission"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod -R 755 dir"})," Change permission recursively"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"chmod g+w file"})," Add write permission at group level"]}),"\n",(0,s.jsx)(i.li,{children:"Numbers: 1=x, 2=w, 3=w+x, 4=r, 5=r+x, 6=r+w, 7=r+w+x"}),"\n",(0,s.jsx)(i.li,{children:"References: u=user, g=group, o=others, a=all"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"list-files",children:"List files"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ls"})," list files in this directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ls -ltr"})," list files in this directory with more details and in reverse chronological order"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ls -ltra"})," same as above + list hidden files (names starting with ",(0,s.jsx)(i.code,{children:"."}),")"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'ls -ltr | grep "^l"'})," Lists all symlinks (",(0,s.jsx)(i.code,{children:"ls -ltr"})," lists symlinks with ",(0,s.jsx)(i.code,{children:"l"})," as first character of output)"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"symlinks",children:"Symlinks"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Symbolic or soft links. Pointer to a file."}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ln -s /java/jdk7 jdk"})," create symlink jdk which points to ",(0,s.jsx)(i.code,{children:"/java/jdk7"})]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ln -ns /java/jdk8 jdk"})," update symlink jdk to point to ",(0,s.jsx)(i.code,{children:"/java/jdk8"})]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"checking-logs",children:"Checking logs"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"tail -f logfile"})," output appended data as file grows (f=follow)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"less +F logfile"})," open file, and output appended data as file grows"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"text-manipulation",children:"Text manipulation"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"head file"})," display first 10 lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"head -20 file"})," display first 20 lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"tail file"})," display last 10 lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"tail -5 file"})," display last 5 lines"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"head -20 file | tail -1"})," display 20th line"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"cut -f3 file"})," display 3rd field for each line, tab as separator"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"cut -d',' -f3 file"})," display 3rd field for each line, ",(0,s.jsx)(i.code,{children:","})," as separator"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"cut -c3-6 file"})," display characters from 3rd to 6th position for each line"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"cut -c7- file"})," display characters from 7th to end of each line"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"sed",children:"Sed"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed s/unix/linux file"}),' replace first occurrence of "unix with "linux"']}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed s/unix/linux/3 file"})," replace 3rd occurrence"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed s/unix/linux/g file"})," replace all occurrences"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed s/unix/linux/3g file"})," replace all occurrences starting from 3rd one"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed -i '1 d' file"})," delete header of file"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed -i '$ d' file"})," delete footer of file"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sed \u2013n '10 p' file"})," print 10th line of the file"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"networking",children:"Networking"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"ping hostname"})," or ",(0,s.jsx)(i.code,{children:"telnet hostname port"})," check if remote host is alive"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"scp /dir/file user@hostname:/targetdir/file"})," copy file to different host"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'netstat -a | grep "port"'})," check host connected to machine's port"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"space",children:"Space"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"df -h"})," space in current drive (",(0,s.jsx)(i.code,{children:"-h"})," is human readable format)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"du -h ."})," sizes of all files in current directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"du -sh ."})," sizes of current directory"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"du /bin/* | sort -n"})," sort all files based on size (asc)"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"miscellaneous",children:"Miscellaneous"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"lsof file"})," list processes using the file"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"rev file"})," reverses the text in each line"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:'echo "string" | rev '})," reverses the string"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sort file"})," sorts file lines alphabetically"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"sort -n file"})," sorts file lines numerically"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"uniq file"})," filter out adjacent duplicate lines and print"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"uniq -c file"})," print with count at the begining of each line of output"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"uniq -d file"})," print only duplicates"]}),"\n"]})]})}function a(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},8453:(e,i,l)=>{l.d(i,{R:()=>d,x:()=>c});var n=l(6540);const s={},r=n.createContext(s);function d(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);