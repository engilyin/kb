"use strict";(self.webpackChunkalex_ilin_kb=self.webpackChunkalex_ilin_kb||[]).push([[6791],{2651:(e,i,r)=>{r.r(i),r.d(i,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"Development/Java/serialization","title":"Serialization Libs","description":"Serialization Libraries","source":"@site/docs/Development/Java/serialization.md","sourceDirName":"Development/Java","slug":"/Development/Java/serialization","permalink":"/kb/Development/Java/serialization","draft":false,"unlisted":false,"editUrl":"https://github.com/engilyin/kb/docs/Development/Java/serialization.md","tags":[{"inline":true,"label":"serialization","permalink":"/kb/tags/serialization"},{"inline":true,"label":"java","permalink":"/kb/tags/java"},{"inline":true,"label":"libs","permalink":"/kb/tags/libs"},{"inline":true,"label":"notes","permalink":"/kb/tags/notes"}],"version":"current","lastUpdatedAt":1727331161000,"frontMatter":{"id":"serialization","title":"Serialization Libs","sidebar_label":"Serialization","description":"Serialization Libraries","tags":["serialization","java","libs","notes"]},"sidebar":"defaultSidebar","previous":{"title":"Migration","permalink":"/kb/Development/Java/java-migration"},"next":{"title":"Testing","permalink":"/kb/Development/Java/testing"}}');var t=r(4848),a=r(8453);const s={id:"serialization",title:"Serialization Libs",sidebar_label:"Serialization",description:"Serialization Libraries",tags:["serialization","java","libs","notes"]},o="Serialization Libraries",l={},c=[{value:"Castor",id:"castor",level:2},{value:"JSON serialization",id:"json-serialization",level:2}];function d(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"serialization-libraries",children:"Serialization Libraries"})}),"\n",(0,t.jsx)(i.h2,{id:"castor",children:"Castor"}),"\n",(0,t.jsxs)(i.p,{children:["You need to use ",(0,t.jsx)(i.code,{children:"Xcerces"})," lib explicitly and drop the ",(0,t.jsx)(i.code,{children:"castor.properties"}),"\r\ninto your resources:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{children:"org.exolab.castor.xml.serializer.factory=org.exolab.castor.xml.XercesXMLSerializerFactory\r\n#Default is org.exolab.castor.xml.XercesJDK5XMLSerializerFactory and it will not work with Java 9+\n"})}),"\n",(0,t.jsx)(i.h2,{id:"json-serialization",children:"JSON serialization"}),"\n",(0,t.jsx)(i.p,{children:"If you need serialize by fields and not by getters and setters:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-java",metastring:"showLineNumbers",children:'@Slf4j\r\npublic class Json {\r\n\r\n    private final ObjectMapper mapper;\r\n\r\n    public Json() {\r\n        this.mapper = Jackson2ObjectMapperBuilder.json()\r\n                .serializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .visibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.NONE)\r\n                .visibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY)\r\n                .build();\r\n    }\r\n\r\n    public String toJson(Object object) {\r\n        if(object != null) {\r\n\r\n            try {\r\n                return mapper.writeValueAsString(object);\r\n            } catch (JsonProcessingException e) {\r\n                log.error("Unable to serialize to json the object: {}", object, e);\r\n                return "Unable to serialize to json the object: " + object;\r\n            }\r\n        }\r\n        return "";\r\n    }\r\n\r\n    public <T> T fromJson(String src, Class<T> objectClass) {\r\n        try {\r\n            return mapper.readValue(src, objectClass);\r\n        } catch (JsonProcessingException e) {\r\n            return null;\r\n        }\r\n    }\r\n\n'})})]})}function p(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,i,r)=>{r.d(i,{R:()=>s,x:()=>o});var n=r(6540);const t={},a=n.createContext(t);function s(e){const i=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(a.Provider,{value:i},e.children)}}}]);